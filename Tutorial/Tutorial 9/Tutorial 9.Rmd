---
title: "STOR 320 Tutorial 9"
author: "Mario Giacomazzo"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
```

# Introduction

In this tutorial, we will try to understand some fundamental control structures used in statistical programming. In the beginning, we will separately analyze different control structures. The ultimate goal is to combine these methods to solve all our computing and life problems. If you can imagine it, R can do it. Programming R is downright magical. If Morpheus calls, pick up the phone.

# Part 1: *If-Else* Statements

## Chunk 1: Illustration of *If*
```{r,eval=F}
x = 3
if(x > 0){
  print(log(x))
}

x = -3
if(x > 0){
  print(log(x))
}
```

## Chunk 2: Illustration of *If-Else*
```{r,eval=F}
x = 3
if(x > 0){
  print(log(x))
} else{
  message("Unable to Take Logarithm")
}

x = -3
if(x > 0){
  print(log(x))
} else {
    message("Unable to Take Logarithm")
}
```

## Chunk 3: Potential Problem of *If-Else* Statements
```{r,eval=F}
x= BLANK
if(x > 0){
  print(log(x))
}

if(x > 0){
  print(log(x))
} else{
  message("Unable to Take Logarithm")
}
```

##Chunk 4: Fixing Potential Problem in Chunk 3
```{r,eval=F}
x=BLANK
if(is.numeric(x)){
  if(x > 0){
    print(log(x))
  } else{
    message("Unable to Take Logarithm")
  }
} else{
  message("No Strings Attached")
}
```

##Chunk 5: Vectorized Version with `ifelse()`
```{r,eval=F}
x=c(-1,3,200)
print(log(x))

y1 =  if(x > 0){
        log(x)
      } else{
        NA
      }
print(y1)

y2 = ifelse(x>0,log(x),NA)
print(y2)
```

##Chunk 6: Nested `ifelse()` Statements
```{r,eval=F}
x=rnorm(1000,mean=0,sd=1)
y=ifelse(abs(x)<1,"Within 1 SD",ifelse(abs(x)>2,"Far Far Away","Between 1 and 2 SD"))
y.fct=factor(y,levels=c("Within 1 SD","Between 1 and 2 SD","Far Far Away"))
ggplot() +
  geom_bar(aes(x=y.fct),fill="lightskyblue1") +
  theme_minimal()
```

